<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scrollspy using Waypoints</title>
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Include Waypoints library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <style>
      /* Add some styling to the navigation links */
      .nav-link {
        cursor: pointer;
      }

      .navbar {
        width: 100%;
        position: fixed;
        top: 0;
      }

      .container {
        border: 3px solid red;
      }
    </style>
  </head>
  <body>
    <!-- Fixed Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light" id="navbar">
      <div class="container">
        <div class="navbar-expand" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#section1">Section 1</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section2">Section 2</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section3">Section 3</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section4">Section 4</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section5">Section 5</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Content Sections -->
    <div style="margin-top: 63px;">
      <div id="section1" class="container py-5">
        <h2>Section 1</h2>
        <p>This is the first section.</p>
        <p>
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ratione vero
          dolorum ipsam veniam culpa quia recusandae exercitationem repellat
          quod incidunt laborum illum porro aliquid eligendi itaque, harum et?
          Nulla, quibusdam.
        </p>
        <p>
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ratione vero
          dolorum ipsam veniam culpa quia recusandae exercitationem repellat
          quod incidunt laborum illum porro aliquid eligendi itaque, harum et?
          Nulla, quibusdam.
        </p>
        <p>
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ratione vero
          dolorum ipsam veniam culpa quia recusandae exercitationem repellat
          quod incidunt laborum illum porro aliquid eligendi itaque, harum et?
          Nulla, quibusdam.
        </p>
        <p>
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ratione vero
          dolorum ipsam veniam culpa quia recusandae exercitationem repellat
          quod incidunt laborum illum porro aliquid eligendi itaque, harum et?
          Nulla, quibusdam.
        </p>
        <div id="section1-end-waypoint"></div>
      </div>

      <div id="section2" class="container py-5">
        <h2>Section 2</h2>
        <p>This is the second section.</p>
        <p>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Adipisci
          earum nihil porro quibusdam laborum. Odit, sequi! Adipisci sequi eum
          porro quaerat laboriosam praesentium, excepturi atque fugiat quia
          neque possimus commodi?
        </p>
        <p>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Adipisci
          earum nihil porro quibusdam laborum. Odit, sequi! Adipisci sequi eum
          porro quaerat laboriosam praesentium, excepturi atque fugiat quia
          neque possimus commodi?
        </p>
        <p>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Adipisci
          earum nihil porro quibusdam laborum. Odit, sequi! Adipisci sequi eum
          porro quaerat laboriosam praesentium, excepturi atque fugiat quia
          neque possimus commodi?
        </p>
        <p>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Adipisci
          earum nihil porro quibusdam laborum. Odit, sequi! Adipisci sequi eum
          porro quaerat laboriosam praesentium, excepturi atque fugiat quia
          neque possimus commodi?
        </p>
        <div id="section2-end-waypoint"></div>
      </div>

      <div id="section3" class="container py-5">
        <h2>Section 3</h2>
        <p>This is the third section.</p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <div id="section3-end-waypoint"></div>
      </div>

      <div id="section4" class="container py-5">
        <h2>Section 4</h2>
        <p>This is the third section.</p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <div id="section4-end-waypoint"></div>
      </div>

      <div id="section5" class="container py-5">
        <h2>Section 5</h2>
        <p>This is the third section.</p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iste nam
          perferendis, eligendi repellat harum quis excepturi expedita, hic
          explicabo ipsum, placeat a fuga aperiam eum voluptatibus. Rerum
          dolorum non facere!
        </p>
        <div id="section5-end-waypoint"></div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        // Initialize Waypoints for each section
        $("#section1").waypoint({
          handler: function (direction) {
            if (direction === "down") {
              setActiveNavLink("section1");
            }
          },
          offset: "0",
        });

        $("#section1-end-waypoint").waypoint({
          handler: function (direction) {
            if (direction === "up") {
              setActiveNavLink("section1");
            }
          },
          offset: "0",
        });

        $("#section2").waypoint({
          handler: function (direction) {
            if (direction === "down") {
              setActiveNavLink("section2");
            }
          },
          offset: "62",
        });

        $("#section2-end-waypoint").waypoint({
          handler: function (direction) {
            if (direction === "up") {
              setActiveNavLink("section2");
            }
          },
          offset: "0",
        });

        $("#section3").waypoint({
          handler: function (direction) {
            if (direction === "down") {
              setActiveNavLink("section3");
            }
          },
          offset: "62",
        });

        $("#section3-end-waypoint").waypoint({
          handler: function (direction) {
            if (direction === "up") {
              setActiveNavLink("section3");
            }
          },
          offset: "0",
        });

        $("#section4").waypoint({
          handler: function (direction) {
            if (direction === "down") {
              setActiveNavLink("section4");
            }
          },
          offset: "62",
        });

        $("#section4-end-waypoint").waypoint({
          handler: function (direction) {
            if (direction === "up") {
              setActiveNavLink("section4");
            }
          },
          offset: "0",
        });

        $("#section5").waypoint({
          handler: function (direction) {
            if (direction === "down") {
              setActiveNavLink("section5");
            }
          },
          offset: "62",
        });

        $("#section5-end-waypoint").waypoint({
          handler: function (direction) {
            if (direction === "up") {
              setActiveNavLink("section5");
            }
          },
          offset: "0",
        });

        // Function to set the active navigation link
        function setActiveNavLink(sectionName) {
          console.log("function setActiveNavLink", { sectionName });
          $(".nav-link").removeClass("active");
          $('a[href="#' + sectionName + '"]').addClass("active");
        }
      });
    </script>
  </body>
</html>
